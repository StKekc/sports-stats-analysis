# sports-stats-analysis
–ü—Ä–æ–µ–∫—Ç –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å —Å–∞–π—Ç–∞ sports-reference.com. –í–∫–ª—é—á–∞–µ—Ç —Å–±–æ—Ä –∏ –æ—á–∏—Å—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö, –∑–∞–≥—Ä—É–∑–∫—É –≤ PostgreSQL, –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≤–∏—Ç—Ä–∏–Ω –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ (–∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è, –¥–∏–Ω–∞–º–∏–∫–∞ —Ñ–æ—Ä–º—ã, –ª–∏—á–Ω—ã–µ –≤—Å—Ç—Ä–µ—á–∏ –∏ –¥—Ä.).

## üìå –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
–ú—ã —Ñ–æ—Ä–º–∏—Ä—É–µ–º –µ–¥–∏–Ω—É—é –±–∞–∑—É —Ñ—É—Ç–±–æ–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—ã–≥—Ä—É–∑–æ–∫ —Å —Å–∞–π—Ç–∞ FBref.com –∏ –∞–≥—Ä–µ–≥–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ –º–Ω–æ–≥–∏–º –ª–∏–≥–∞–º –∏ —Å–µ–∑–æ–Ω–∞–º.  
–ü–æ–≤–µ—Ä—Ö —ç—Ç–æ–π –±–∞–∑—ã —Å—Ç—Ä–æ—è—Ç—Å—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–æ—É—Ç–±—É–∫–∏ –¥–ª—è –æ—Ç–≤–µ—Ç–∞ –Ω–∞ —Ç–∏–ø–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã —Ñ—É—Ç–±–æ–ª—å–Ω–æ–π –∞–Ω–∞–ª–∏—Ç–∏–∫–∏: —Å—Ç–∏–ª—å –∫–æ–º–∞–Ω–¥—ã, —Ñ–æ—Ä–º–∞ –ø–æ –º–µ—Å—è—Ü–∞–º, –≤–ª–∏—è–Ω–∏–µ —Ñ–∞–∫—Ç–æ—Ä–∞ –ø–æ–ª—è, ¬´–Ω–µ—É–¥–æ–±–Ω—ã–µ¬ª —Å–æ–ø–µ—Ä–Ω–∏–∫–∏ –∏ —Ç.–¥.


## üéØ –ó–∞–¥–∞—á–∏
1. –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥ –ø–æ —Å—Ç–∏–ª—é –∏–≥—Ä—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫ (–≤–ª–∞–¥–µ–Ω–∏–µ –º—è—á–æ–º, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–¥–∞—Ä–æ–≤, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–æ–ª–æ–≤, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–¥–∞—á –∏ –¥—Ä.).
2. –ü–æ–¥—Å—á–µ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç–∞ –ø–æ–±–µ–¥ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ñ–∞–∫—Ç–æ—Ä–∞ –∏–≥—Ä—ã (–¥–æ–º–∞—à–Ω—è—è –∏–ª–∏ –≤—ã–µ–∑–¥–Ω–∞—è).
3. –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –¥–∏–Ω–∞–º–∏–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∫–æ–º–∞–Ω–¥—ã –ø–æ —Å–µ–∑–æ–Ω–∞–º –∏ –º–µ—Å—è—Ü–∞–º ‚Äî –≤—ã—è–≤–ª–µ–Ω–∏–µ –ø–∏–∫–æ–≤ –∏ —Å–ø–∞–¥–æ–≤ —Ñ–æ—Ä–º—ã.
4. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ ¬´—Å–∞–º–æ–≥–æ –Ω–µ—É–¥–æ–±–Ω–æ–≥–æ —Å–æ–ø–µ—Ä–Ω–∏–∫–∞¬ª –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã.
5. –ü—Ä–æ–≥–Ω–æ–∑ –∏—Å—Ö–æ–¥–∞ –º–∞—Ç—á–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –æ —Ñ–æ—Ä–º–µ –∫–æ–º–∞–Ω–¥—ã –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Å–æ–ø–µ—Ä–Ω–∏–∫–æ–≤.

## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
sports-stats-analysis/
‚îú‚îÄ‚îÄ data/                    # –ò—Å—Ö–æ–¥–Ω—ã–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ database/                # –°–∫—Ä–∏–ø—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ PostgreSQL
‚îÇ   ‚îú‚îÄ‚îÄ schema.sql          # SQL —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ config.yaml         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ migrate_to_postgres.py
‚îú‚îÄ‚îÄ notebooks/               # Jupyter –Ω–æ—É—Ç–±—É–∫–∏ —Å –∞–Ω–∞–ª–∏–∑–æ–º
‚îú‚îÄ‚îÄ src/                     # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ modules/            # –ú–æ–¥—É–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data_extraction/    # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (scraping)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data_reception/    # –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data_processing/    # –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Spark
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ spark_config.py      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Spark
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ spark_processor.py   # –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä Spark
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ visualization/     # –ú–æ–¥—É–ª–∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (Plotly)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/             # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ java_setup.py  # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Java –¥–ª—è PySpark (Windows)
‚îÇ   ‚îú‚îÄ‚îÄ run_task_1.py        # –ó–∞–¥–∞—á–∞ 1: –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è —Å—Ç–∏–ª–µ–π –∏–≥—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ run_task_2.py        # –ó–∞–¥–∞—á–∞ 2: –ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ–±–µ–¥ –¥–æ–º–∞/–≤ –≥–æ—Å—Ç—è—Ö
‚îÇ   ‚îú‚îÄ‚îÄ run_task_3.py        # –ó–∞–¥–∞—á–∞ 3: –î–∏–Ω–∞–º–∏–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ run_task_4.py        # –ó–∞–¥–∞—á–∞ 4: –°–∞–º—ã–π –Ω–µ—É–¥–æ–±–Ω—ã–π —Å–æ–ø–µ—Ä–Ω–∏–∫
‚îÇ   ‚îî‚îÄ‚îÄ run_task_5.py        # –ó–∞–¥–∞—á–∞ 5: –ü—Ä–æ–≥–Ω–æ–∑ –∏—Å—Ö–æ–¥–æ–≤ –º–∞—Ç—á–µ–π
‚îî‚îÄ‚îÄ requirements.txt         # –°–ø–∏—Å–æ–∫ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```

## üß© –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Python 3.8+** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **Apache Spark** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- **PostgreSQL** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **Pandas, NumPy** - –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö
- **Scikit-learn** - –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ (–∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è, –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è)
- **Plotly** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- **Jupyter Notebook** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑

## ‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Spark

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Apache Spark –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö. –î–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ Windows —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Java –æ–∫—Ä—É–∂–µ–Ω–∏—è.

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Java

**Windows:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Java JDK 8, 11, 17 –∏–ª–∏ 21 —Å [Oracle](https://www.oracle.com/java/technologies/downloads/) –∏–ª–∏ [OpenJDK](https://adoptium.net/)
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `JAVA_HOME`:
   ```powershell
   # –ü—Ä–∏–º–µ—Ä –¥–ª—è JDK 17
   setx JAVA_HOME "C:\Program Files\Java\jdk-17"
   ```
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª/IDE –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

**macOS/Linux:**
```bash
# macOS
brew install openjdk@17

# Linux (Ubuntu/Debian)
sudo apt install openjdk-17-jdk
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Java (Windows)

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –º–æ–¥—É–ª—å `src/modules/utils/java_setup.py`, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç Java –æ–∫—Ä—É–∂–µ–Ω–∏–µ –¥–ª—è PySpark –Ω–∞ Windows. –ú–æ–¥—É–ª—å:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—â–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—É—é Java
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è `JAVA_HOME` –∏ `PATH`
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è Spark
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–µ—Ä—Å–∏—é Java

–ú–æ–¥—É–ª—å –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö –∑–∞–¥–∞—á (`run_task_*.py`) –ø–µ—Ä–µ–¥ –∏–º–ø–æ—Ä—Ç–æ–º PySpark.

**Python-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏**

- –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏: `pandas`, `numpy`, `python-dateutil`.
- –í–µ–±-–¥–æ—Å—Ç—É–ø –∏ –ø–∞—Ä—Å–∏–Ω–≥: `requests`, `beautifulsoup4`, `lxml`, `playwright`, `tqdm`.
- –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: `psycopg2-binary`, `pyyaml`.
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö: `pyspark`, `py4j`.
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è: `matplotlib`, `seaborn`, `plotly`, `kaleido`.

–ò–∑–≤–ª–µ—á—ë–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã:
- `schedule_results.csv` ‚Äî –∫–∞–ª–µ–Ω–¥–∞—Ä—å –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–∞—Ç—á–µ–π;
- `standings.csv` ‚Äî —Ç—É—Ä–Ω–∏—Ä–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞;
- `team_standard_stats.csv` ‚Äî –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (–≥–æ–ª—ã, —É–¥–∞—Ä—ã, –ø–µ—Ä–µ–¥–∞—á–∏ –∏ –¥—Ä.).

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–°–º. –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –≤ [database/README.md](database/README.md)

### 3. –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á –∞–Ω–∞–ª–∏–∑–∞

–í—Å–µ –∑–∞–¥–∞—á–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `src/`:

```bash
cd src

# –ó–∞–¥–∞—á–∞ 1: –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è —Å—Ç–∏–ª–µ–π –∏–≥—Ä—ã
python run_task_1.py --league epl --season 2023-2024

# –ó–∞–¥–∞—á–∞ 2: –ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ–±–µ–¥ –¥–æ–º–∞/–≤ –≥–æ—Å—Ç—è—Ö
python run_task2_home_away_analysis.py --league epl

# –ó–∞–¥–∞—á–∞ 3: –î–∏–Ω–∞–º–∏–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ —Å–µ–∑–æ–Ω–∞–º
python run_task3_team_dynamics.py --league epl --season 2023-2024

# –ó–∞–¥–∞—á–∞ 4: –°–∞–º—ã–π –Ω–µ—É–¥–æ–±–Ω—ã–π —Å–æ–ø–µ—Ä–Ω–∏–∫
python run_task_4.py --league epl --season 2023-2024

# –ó–∞–¥–∞—á–∞ 5: –ü—Ä–æ–≥–Ω–æ–∑ –∏—Å—Ö–æ–¥–æ–≤ –º–∞—Ç—á–µ–π
python run_task_5.py --league epl --season 2023-2024
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ù–∞ Windows –º–æ–¥—É–ª—å `java_setup.py` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç Java –æ–∫—Ä—É–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º Spark. –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å Java, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Spark](#Ô∏è-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è-–¥–ª—è-—Ä–∞–±–æ—Ç—ã-—Å–æ-spark).
